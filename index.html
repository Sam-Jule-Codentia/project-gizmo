<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <link rel="icon" type="image/svg+xml" href="/vite.svg" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Vite App</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-KK94CHFLLe+nY2dmCWGMq91rCGa5gtU4mk92HdvYe+M/SXH301p5ILy+dN9+nJOZ" crossorigin="anonymous">
  </head>
  <body>
    <div id="overlay" class="h-100 w-100 d-none flex-column justify-content-between align-items-center"  style="position: absolute;" > 
      <div class="col-sm align-items-start w-100">
        <div id="hungerBarProgress">
          <div id="hungerBar"><strong><p class="ms-3">Hunger</p></strong></div>
        </div>
        <div id="hydrationBarProgress">
          <div id="hydrationBar"><strong><p class="ms-3">Hydration</p></strong></div>
        </div>
        <div id="happinessBarProgress">
          <div id="happinessBar"></div>
        </div>
      </div>
      <div class="align-items-center">
          <img style="bottom: 100px;" onclick="feedGizmo()" src="/assets/icons/icon-hunger.png">
          <img style="bottom: 100px;" onclick="drinkGizmo()" src="/assets/icons/icon-thirst.png">
          <img style="bottom: 100px;" onclick="playWithGizmo()" src="/assets/icons/icon-happy.png">
      </div>
    </div>
    <div id="app">

      <div id="gizmoSpawnPoint">
          <!-- not gizmo, it's gizmo introduction -->
          <div class=" intro-box d-flex flex-column justify-content-center">
              <h2 style="text-decoration: underline; color: #2c0547;">Welcome to Gizmo!</h2>
              <P>
                Gizmo is your virtual AR friend! <br>
                <ul style="text-align: left;">
                  <li> To start, press the button below. Once your camera is displaying press wherever on the screen to wake up your Gizmo. 
                  </li>
                  <li> Your Gizmo will get hungry, which you can see by looking at the orange hunger bar above them. To feed them press the noodle icon until it is full.</li>
                  <li> Your Gizmo will also get thirsty, which you can see by looking at the blue thirst bar below the hunger bar. To make them drink, press the carton icon until it is full.</li>
                  <li> Your Gizmo loves to be entertained. When Gizmo hasn't been played with very much, their happiness will lower. Press the cloud icon until it is full.</li>    
                </ul>
              </P>
          </div>
          <!-- code for the 'lil guy is imported here -->
      </div>

    </div>
    <script type="module" src="/gizmo-ar.js"></script>
    <script>
      function feedGizmo() {

          var hunger = document.getElementById("hungerBar")
          var width = parseInt(hunger.dataset.width) + 30;
          hunger.style.width = width + "%"
          hunger.dataset.width = width;
          if (hunger.dataset.width > 100)
          {
            hunger.dataset.width = "100%";
          }
      }

      function drinkGizmo() {

          var hydration = document.getElementById("hydrationBar")
          var width = parseInt(hydration.dataset.width) + 30;
          hydration.style.width = width + "%"
          hydration.dataset.width = width;
          if (hydration.dataset.width > 100)
          {
            hydration.dataset.width = "100%";
          }
      }

      function playWithGizmo() {

          var happiness = document.getElementById("happinessBar")
          var width = parseInt(happiness.dataset.width) + 30;
          happiness.style.width = width + "%"
          happiness.dataset.width = width;
          if (happiness.dataset.width > 100)
          {
            happiness.dataset.width = "100%";
          }
      }
    </script>
  </body>
</html>
